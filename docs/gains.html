

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>gains package &mdash; gains 0.2.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="gains 0.2.1 documentation" href="index.html"/>
        <link rel="prev" title="Welcome to documentation for GAINS" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> gains
          

          
            
            <img src="_static/gains.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">gains package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-gains.engine">gains.engine module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-gains.salt_generator">gains.salt_generator module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">gains</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>gains package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/gains.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gains-package">
<h1>gains package<a class="headerlink" href="#gains-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-gains.engine">
<span id="gains-engine-module"></span><h2>gains.engine module<a class="headerlink" href="#module-gains.engine" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="gains.engine.get_best">
<code class="descclassname">gains.engine.</code><code class="descname">get_best</code><span class="sig-paren">(</span><em>get_fitness</em>, <em>optimalFitness</em>, <em>geneSet</em>, <em>display</em>, <em>show_ion</em>, <em>target</em>, <em>parent_candidates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#get_best"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.get_best" title="Permalink to this definition">¶</a></dt>
<dd><p>the primary public function of the engine</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>get_fitness</strong> (<em>function</em>) &#8211; the fitness function. Usually based on a molecular property.
An example can be found in the salt_generator module</li>
<li><strong>optimalFitness</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) &#8211; 0-1 the user specifies how close the engine should get to
the target (1 = exact)</li>
<li><strong>geneSet</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; consists of atomtypes (by periodic number), rdkit molecular
fragments and custom fragments (that are currently hard
coded into the engine). These are the building blocks that
the engine can use to mutate the molecular candidate via the
_mutate() function</li>
<li><strong>display</strong> (<em>function</em>) &#8211; for printing results to the screen. Display is called for
every accepted mutation</li>
<li><strong>show_ion</strong> (<em>function</em>) &#8211; for printing results to the screen. show_ion is called when
a candidate has achieved the desired fitness score and is
returned by the engine</li>
<li><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/array.html#module-array" title="(in Python v3.6)"><em>array</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the desired property value to be achieved by the engine.
If an array, a model containing multi-output targets must
be supplied to the engine</li>
<li><strong>parent_candidates</strong> (<a class="reference external" href="https://docs.python.org/3/library/array.html#module-array" title="(in Python v3.6)"><em>array</em></a>) &#8211; an array of smiles strings that the engine uses to choose
a starting atomic configuration</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>child</strong> &#8211; the accepted molecular configuration. See Chromosome class
for details</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Chromosome object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="gains.engine.molecular_similarity">
<code class="descclassname">gains.engine.</code><code class="descname">molecular_similarity</code><span class="sig-paren">(</span><em>best</em>, <em>parent_candidates</em>, <em>all=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#molecular_similarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.molecular_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a similarity score (0-1) of best with the
closest molecular relative in parent_candidates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>best</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a>) &#8211; a genetic.Chromosome() object, this is the
molecular candidate under investigation</li>
<li><strong>parent_candidates</strong> (<a class="reference external" href="https://docs.python.org/3/library/array.html#module-array" title="(in Python v3.6)"><em>array</em></a>) &#8211; an array of smiles strings to compare with
best</li>
<li><strong>all</strong> (<em>boolean</em><em>, </em><em>optional</em>) &#8211; default behavior is false and the tanimoto
similarity score is returned. If True
tanimoto, dice, cosine, sokal, kulczynski,
and mcconnaughey similarities are returned</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><em>if all=False the best tanimoto similarity score</em></li>
<li><em>as well as the index of the closest molecular</em></li>
<li><em>relative are returned</em></li>
<li><em>if all=True an array of best scores and indeces</em></li>
<li><em>of the closest molecular relative are returned</em></li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gains.engine.Benchmark">
<em class="property">class </em><code class="descclassname">gains.engine.</code><code class="descname">Benchmark</code><a class="reference internal" href="_modules/gains/engine.html#Benchmark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.Benchmark" title="Permalink to this definition">¶</a></dt>
<dd><p>benchmark method used by the unittests</p>
</dd></dl>

<dl class="function">
<dt id="gains.engine.generate_geneset">
<code class="descclassname">gains.engine.</code><code class="descname">generate_geneset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#generate_geneset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.generate_geneset" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates the GeneSet class with atoms and fragments to be used
by the engine. As it stands these are hardcoded into the engine
but will probably be adapted in future versions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>None</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>GeneSet</strong> &#8211; returns an instance of the GeneSet class containing atoms,
rdkit fragments, and custom fragments</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)">object</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gains.engine.GeneSet">
<em class="property">class </em><code class="descclassname">gains.engine.</code><code class="descname">GeneSet</code><span class="sig-paren">(</span><em>atoms</em>, <em>rdkitFrags</em>, <em>customFrags</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#GeneSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.GeneSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Consists of atomtypes (by periodic number), rdkit molecular
fragments and custom fragments (that are currently hard
coded into the engine). These are the building blocks that
the engine can use to mutate the molecular candidate via the
_mutate() function</p>
</dd></dl>

<dl class="class">
<dt id="gains.engine.Chromosome">
<em class="property">class </em><code class="descclassname">gains.engine.</code><code class="descname">Chromosome</code><span class="sig-paren">(</span><em>genes</em>, <em>fitness</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#Chromosome"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.Chromosome" title="Permalink to this definition">¶</a></dt>
<dd><p>The main object handled by the engine. The Chromosome object
inherits the RWMol and Mol attributes from rdkit. Two additional
attributes are added: genes and fitness. Genes is the SMILES
encoding of the molecule, fitness is the score (0-1) returned
by the fitness function</p>
</dd></dl>

<dl class="function">
<dt id="gains.engine.load_data">
<code class="descclassname">gains.engine.</code><code class="descname">load_data</code><span class="sig-paren">(</span><em>data_file_name</em>, <em>pickleFile=False</em>, <em>simpleList=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/engine.html#load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads data from module_path/data/data_file_name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_file_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.6)"><em>string</em></a>) &#8211; name of csv file to be loaded from module_path/data/
data_file_name. For example &#8216;salt_info.csv&#8217;.</li>
<li><strong>pickleFile</strong> (<em>boolean</em><em>, </em><em>optional</em>) &#8211; default = False. if True opens pickled file</li>
<li><strong>simpleList</strong> (<em>boolean</em><em>, </em><em>optional</em>) &#8211; default = False. If true will open the saved list and
properly handle split lines</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>data</strong> &#8211; A data frame. For example with each row representing one
salt and each column representing the features of a given
salt</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Pandas DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="gains.engine.suppress_stdout_stderr">
<em class="property">class </em><code class="descclassname">gains.engine.</code><code class="descname">suppress_stdout_stderr</code><a class="reference internal" href="_modules/gains/engine.html#suppress_stdout_stderr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.engine.suppress_stdout_stderr" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager for doing a &#8220;deep suppression&#8221; of stdout and stderr in
Python, i.e. will suppress all print, even if the print originates in a
compiled C/Fortran sub-function.</p>
<p>The purpose of this is to suppress error outputs from rdkit. The engine
uses rdkit as a final sanity check on molecular candidates. Subsequently,
error messages from rdkit are produced all the time</p>
</dd></dl>

</div>
<div class="section" id="module-gains.salt_generator">
<span id="gains-salt-generator-module"></span><h2>gains.salt_generator module<a class="headerlink" href="#module-gains.salt_generator" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="gains.salt_generator.generate_solvent">
<code class="descclassname">gains.salt_generator.</code><code class="descname">generate_solvent</code><span class="sig-paren">(</span><em>target, model_ID, heavy_atom_limit=50, sim_bounds=[0.4, 1.0], hits=1, write_file=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gains/salt_generator.html#generate_solvent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#gains.salt_generator.generate_solvent" title="Permalink to this definition">¶</a></dt>
<dd><p>the primary public function of the salt_generator module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> (<a class="reference external" href="https://docs.python.org/3/library/array.html#module-array" title="(in Python v3.6)"><em>array</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) &#8211; the desired property value to be achieved by the engine, if
an array, a multi-output model must be supplied to the engine</li>
<li><strong>model_ID</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) &#8211; the name of the model to be used by the engine. Gains has
several built-in models to choose from</li>
<li><strong>heavy_atom_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) &#8211; the upper value for allowable heavy atoms in the returned
candidate</li>
<li><strong>sim_bounds</strong> (<a class="reference external" href="https://docs.python.org/3/library/array.html#module-array" title="(in Python v3.6)"><em>array</em></a><em>, </em><em>optional</em>) &#8211; the tanimoto similarity score between the returned candidate
and its closest molecular relative in parent_candidates</li>
<li><strong>hits</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) &#8211; the number of desired solutions</li>
<li><strong>write_file</strong> (<em>boolean</em><em>, </em><em>optional</em>) &#8211; defaults to False. if True will return the solutions and a
csv log file</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>new</strong> &#8211; default behavior is to return a pandas DataFrame. This is
a log file of the solution(s). if write_file = True the
function will also return pdb files of the solutions</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)">object</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to documentation for GAINS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Wesley Beckner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>